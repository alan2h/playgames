webpackHotUpdate(1,{

/***/ 29:
/***/ (function(module, exports) {

eval("/* ---- variables globales ---- */\nvar total = 0.0;\nvar total_con_descuento = 0.0;\nvar resultado = 0.0;\nvar contador_tabla = 0;\nvar credito_porcentaje = 0;\nvar articulos_vendidos = [];\nvar forma_pago = '';\n/* --- hacer invisible los campos que solo son para efectivo ---- */\ndocument.getElementById('id_div_pago').style.display = 'none';\ndocument.getElementById('id_div_vuelto').style.display = 'none';\n/* --- hacer invisible los campos que solo son para cr√©dito ---- */\ndocument.getElementById('id_div_porcentaje').style.display = 'none';\ndocument.getElementById('id_div_credito_total').style.display = 'none';\n/* --- hacer invisible los campos que solo son para descuento ---- */\ndocument.getElementById('id_div_descuento').style.display = 'none';\n\nvar seleccion_articulo = function (id, descripcion, marca, rubro, precio_venta, precio_credito, precio_compra, stock, proveedor) {\n    var cantidad = prompt(\"Ingrese la cantidad\", \"\");\n    var precio_enviar = '';\n    if (cantidad != null && cantidad != '') {\n        switch (forma_pago) {\n            case 'efectivo':\n                precio_enviar = precio_venta;\n                break;\n            case 'descuento':\n                precio_enviar = precio_venta;\n                break;\n            case 'credito':\n                precio_enviar = precio_venta;\n                break;\n            case 'debito':\n                precio_enviar = precio_venta;\n                break;\n        };\n        calcular_total(cantidad, id, precio_enviar);\n        contador_tabla += 1;\n        $('#id_tabla_articulos tr:last').after('<tr id=\"tr_' + contador_tabla.toString() + '\"><td>' + cantidad + '</td>' + '<td>' + descripcion + '</td>' + '<td>' + marca + '</td>' + '<td>' + rubro + '</td>' + '<td> $' + precio_enviar + '</td>' + '<td>' + stock + '</td>' + '<td><a onclick=\"eliminar_articulo(' + contador_tabla.toString() + ',' + cantidad + ',' + precio_enviar + ')\" ' + 'class=\"btn btn-danger btn-xs\"><i class=\"fa fa-trash\"></i> </a></td></tr>');\n    }\n};\n\nvar guardar_compra = function () {\n    total_con_descuento = resultado;\n    $.ajax({\n        url: '/ventas/ajax/ventas/alta/',\n        type: 'post',\n        data: {\n            ventas: JSON.stringify(articulos_vendidos),\n            fecha: $('#id_fecha').val,\n            descuento: $('#id_monto_descuento').val(),\n            total_con_descuento: total_con_descuento,\n            precio_venta_total: total.toString(),\n            forma_pago: forma_pago,\n            credito_porcentaje: credito_porcentaje,\n            csrfmiddlewaretoken: $(\"input[name=csrfmiddlewaretoken]\").val()\n        },\n        success: function (data) {\n            if (data.success) {\n                new PNotify({\n                    title: 'Sistema',\n                    text: data.success,\n                    type: 'success'\n                });\n                $('#id_total').html('$ 0.0');\n                $('#id_tabla_articulos').empty();\n                window.location.href = '/ventas/ticket/' + data.id_venta;\n            }\n        }\n    });\n};\n\n/* ---- funcion para el lector de codigo de barras --- */\n$('#id_codigo_articulo_buscar').keypress(function (e) {\n    if (e.which == 13) {\n        $.ajax({\n            url: '/ventas/ajax/codigo/articulo/',\n            type: 'post',\n            data: {\n                'codigo_articulo': $('#id_codigo_articulo_buscar').val(),\n                csrfmiddlewaretoken: $(\"input[name=csrfmiddlewaretoken]\").val()\n            },\n            success: function (data) {\n                var precio_enviar = '';\n                switch (forma_pago) {\n                    case 'efectivo':\n                        precio_enviar = data.precio_venta;\n                        break;\n                    case 'descuento':\n                        precio_enviar = data.precio_venta;\n                        break;\n                    case 'credito':\n                        precio_enviar = data.precio_venta;\n                        break;\n                    case 'debito':\n                        precio_enviar = data.precio_venta;\n                        break;\n                };\n                contador_tabla += 1;\n                calcular_total('1', data.id, precio_enviar);\n                $('#id_tabla_articulos tr:last').after('<tr id=\"tr_' + contador_tabla.toString() + '\"><td>' + data.cantidad + '</td>' + '<td>' + data.descripcion + '</td>' + '<td>' + data.marca + '</td>' + '<td>' + data.rubro + '</td>' + '<td> $' + precio_enviar + '</td>' + '<td>' + data.stock + '<td><a onclick=\"agregar_cantidad(' + contador_tabla.toString() + ',' + data.id + ',' + precio_enviar + ')\" ' + 'class=\"btn btn-info btn-xs\"><i class=\"fa fa-plus\"></i> </a><a onclick=\"eliminar_articulo(' + contador_tabla.toString() + ',' + data.cantidad + ',' + precio_enviar + ')\" ' + 'class=\"btn btn-danger btn-xs\"><i class=\"fa fa-trash\"></i> </a></td></tr>');\n            }\n        });\n        $('#id_codigo_articulo_buscar').val('');\n    }\n});\n/* ---- funcion para el lector de codigo de barras --- */\n\n/* ---------- Esta funcion calcula el total y la coloca\n*** ---------- en la parte inferior del formulario de ventas ---- */\nvar calcular_total = function (cantidad, id, precio_venta) {\n    /* ---- Armar un array con los articulos vendidos ----- */\n    var obj = {};\n    obj['id'] = id;\n    obj['cantidad'] = cantidad;\n    articulos_vendidos.push(obj);\n    /* ---- Armar un array con los articulos vendidos ----- */\n\n    total += parseFloat(cantidad) * parseFloat(precio_venta.toString().replace(',', '.'));\n    var representar = total.toFixed(2);\n    $('#id_total').html('$ ' + representar.toString().replace('.', ','));\n};\n/* ---------- Esta funcion calcula el total y la coloca\n---------- en la parte inferior del formulario de ventas ---- */\n\n/* ---- detectar que tipo de pago es ---- */\nvar calcular_tipo_pago = function (forma_pago_parametro) {\n    $('#id_fecha').prop(\"disabled\", false);\n    $('#id_codigo_articulo_buscar').prop(\"disabled\", false);\n    $('#id_button_buscar').prop(\"disabled\", false);\n    $('#id_button_guardar_compra').prop(\"disabled\", false);\n    // Pongo disabled la seleccion de la forma de pago\n    forma_pago = forma_pago_parametro;\n    if (forma_pago == 'efectivo') {\n        // si es efectivo habilito sus respectivos pagos\n        document.getElementById('id_div_pago').style.display = 'block';\n        document.getElementById('id_div_vuelto').style.display = 'block';\n    };\n    if (forma_pago == 'descuento') {\n        // si es descuento habilito sus respectivos pagos y descuento\n        document.getElementById('id_div_pago').style.display = 'block';\n        document.getElementById('id_div_vuelto').style.display = 'block';\n        document.getElementById('id_div_descuento').style.display = 'block';\n    };\n    if (forma_pago == 'credito') {\n        // si es credito habilito sus respectivos aumentos\n        document.getElementById('id_div_porcentaje').style.display = 'block';\n        document.getElementById('id_div_credito_total').style.display = 'block';\n    };\n    if (forma_pago != 'efectivo') {\n        $('#id_efectivo').hide();\n    };\n    if (forma_pago != 'credito') {\n        $('#id_credito').hide();\n    };\n    if (forma_pago != 'debito') {\n        $('#id_debito').hide();\n    };\n    if (forma_pago != 'descuento') {\n        $('#id_descuento').hide();\n    };\n};\n/* ---- detectar que tipo de pago es ---- */\n\n/* ---- Eliminar un articulo desde la tabla ---- */\nvar eliminar_articulo = function (id, cantidad, precio_enviar) {\n\n    articulos_vendidos.splice(id, 1);\n    $('#tr_' + id).remove();\n    total -= parseFloat(cantidad) * parseFloat(precio_enviar.toString().replace(',', '.'));\n    var representar = total.toFixed(2);\n    $('#id_total').html('$ ' + representar.toString().replace('.', ','));\n};\n/* ---- Eliminar un articulo desde la tabla ---- */\n\n/* ---- Agregar cantidad a un articulo desde la tabla ---- */\nvar agregar_cantidad = function (contador, id, precio) {\n    var cantidad = prompt(\"Ingrese la cantidad\", \"\");\n    if (cantidad != null && cantidad != '') {\n        var cantidad_tabla = document.getElementById(\"id_tabla_articulos\").rows[contador + 1].cells.item(0).innerHTML;\n        document.getElementById(\"id_tabla_articulos\").rows[contador + 1].cells.item(0).innerHTML = parseInt(cantidad_tabla) + parseInt(cantidad);\n        calcular_total(cantidad, id, precio);\n    }\n};\n/* ---- Agregar cantidad a un articulo desde la tabla ---- */\n\n/* ---- Evento y metodos para vueltos si es efectivo ---- */\n$('#id_pago').click(function () {\n    if ($('#id_pago').val() == '0') {\n        $('#id_pago').val(' ');\n    }\n});\n$('#id_monto_descuento').click(function () {\n    if ($('#id_monto_descuento').val() == '0') {\n        $('#id_monto_descuento').val(' ');\n    }\n});\n/* --- por cada evento calcular el vuelto --- */\n$('#id_pago').focusout(function () {\n    if ($('#id_pago').val() == '') {\n        $('#id_pago').val('0');\n    }\n    calcular_vuelto();\n});\n$('#id_monto_descuento').focusout(function () {\n    if ($('#id_monto_descuento').val() == '') {\n        $('#id_monto_descuento').val('0');\n    }\n});\n$('#id_pago').keypress(function (e) {\n    if (e.keyCode == 13) {\n        calcular_vuelto();\n    }\n});\nvar calcular_vuelto = function () {\n    /* ----- calcula si es efectivo el vuelto ----- */\n\n    var pago = $('#id_pago').val();\n    var descuento = $('#id_monto_descuento').val();\n    if (descuento != '0') {\n        descuento_total = parseFloat(total) * parseFloat(descuento) / 100;\n        resultado = 0.0;\n        resultado = parseFloat(total) - parseFloat(descuento_total);\n        var vuelto = parseFloat(pago) - parseFloat(resultado);\n    } else {\n        var vuelto = parseFloat(pago) - parseFloat(total);\n    }\n    var representar = vuelto.toFixed(2);\n    $('#id_vuelto').html('$ ' + representar.toString().replace('.', ','));\n};\n/* ---- Evento y metodos para vueltos si es efectivo ---- */\n\n/* ---- Evento y metodos para aumento si es credito ---- */\n$('#id_porcentaje').click(function () {\n    if ($('#id_porcentaje').val() == '0') {\n        $('#id_porcentaje').val(' ');\n    }\n});\n/* --- por cada evento calcular el vuelto --- */\n$('#id_porcentaje').focusout(function () {\n    calcular_aumento();\n});\n$('#id_porcentaje').keypress(function (e) {\n    if (e.keyCode == 13) {\n        calcular_aumento();\n    }\n});\nvar calcular_aumento = function () {\n    /* ----- calcula si es credito el aumento ----- */\n    var porcentaje = $('#id_porcentaje').val();\n    credito_porcentaje = porcentaje;\n    var aumento = parseFloat(total) * parseInt(porcentaje) / 100;\n    var total_aumentado = parseFloat(total) + parseFloat(aumento);\n    var representar = total_aumentado.toFixed(2);\n    $('#id_credito_total').html('$ ' + representar.toString().replace('.', ','));\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zdGF0aWMvYXBwcy92ZW50YXMvanMvb3BlcmFjaW9uZXMuanM/MzYwNyJdLCJuYW1lcyI6WyJ0b3RhbCIsInRvdGFsX2Nvbl9kZXNjdWVudG8iLCJyZXN1bHRhZG8iLCJjb250YWRvcl90YWJsYSIsImNyZWRpdG9fcG9yY2VudGFqZSIsImFydGljdWxvc192ZW5kaWRvcyIsImZvcm1hX3BhZ28iLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwic3R5bGUiLCJkaXNwbGF5Iiwic2VsZWNjaW9uX2FydGljdWxvIiwiaWQiLCJkZXNjcmlwY2lvbiIsIm1hcmNhIiwicnVicm8iLCJwcmVjaW9fdmVudGEiLCJwcmVjaW9fY3JlZGl0byIsInByZWNpb19jb21wcmEiLCJzdG9jayIsInByb3ZlZWRvciIsImNhbnRpZGFkIiwicHJvbXB0IiwicHJlY2lvX2VudmlhciIsImNhbGN1bGFyX3RvdGFsIiwiJCIsImFmdGVyIiwidG9TdHJpbmciLCJndWFyZGFyX2NvbXByYSIsImFqYXgiLCJ1cmwiLCJ0eXBlIiwiZGF0YSIsInZlbnRhcyIsIkpTT04iLCJzdHJpbmdpZnkiLCJmZWNoYSIsInZhbCIsImRlc2N1ZW50byIsInByZWNpb192ZW50YV90b3RhbCIsImNzcmZtaWRkbGV3YXJldG9rZW4iLCJzdWNjZXNzIiwiUE5vdGlmeSIsInRpdGxlIiwidGV4dCIsImh0bWwiLCJlbXB0eSIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsImlkX3ZlbnRhIiwia2V5cHJlc3MiLCJlIiwid2hpY2giLCJvYmoiLCJwdXNoIiwicGFyc2VGbG9hdCIsInJlcGxhY2UiLCJyZXByZXNlbnRhciIsInRvRml4ZWQiLCJjYWxjdWxhcl90aXBvX3BhZ28iLCJmb3JtYV9wYWdvX3BhcmFtZXRybyIsInByb3AiLCJoaWRlIiwiZWxpbWluYXJfYXJ0aWN1bG8iLCJzcGxpY2UiLCJyZW1vdmUiLCJhZ3JlZ2FyX2NhbnRpZGFkIiwiY29udGFkb3IiLCJwcmVjaW8iLCJjYW50aWRhZF90YWJsYSIsInJvd3MiLCJjZWxscyIsIml0ZW0iLCJpbm5lckhUTUwiLCJwYXJzZUludCIsImNsaWNrIiwiZm9jdXNvdXQiLCJjYWxjdWxhcl92dWVsdG8iLCJrZXlDb2RlIiwicGFnbyIsImRlc2N1ZW50b190b3RhbCIsInZ1ZWx0byIsImNhbGN1bGFyX2F1bWVudG8iLCJwb3JjZW50YWplIiwiYXVtZW50byIsInRvdGFsX2F1bWVudGFkbyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDWSxJQUFJQSxRQUFRLEdBQVo7QUFDQSxJQUFJQyxzQkFBc0IsR0FBMUI7QUFDQSxJQUFJQyxZQUFZLEdBQWhCO0FBQ0EsSUFBSUMsaUJBQWlCLENBQXJCO0FBQ0EsSUFBSUMscUJBQXFCLENBQXpCO0FBQ0EsSUFBSUMscUJBQXFCLEVBQXpCO0FBQ0EsSUFBSUMsYUFBYSxFQUFqQjtBQUNQO0FBQ09DLFNBQVNDLGNBQVQsQ0FBd0IsYUFBeEIsRUFBdUNDLEtBQXZDLENBQTZDQyxPQUE3QyxHQUF1RCxNQUF2RDtBQUNBSCxTQUFTQyxjQUFULENBQXdCLGVBQXhCLEVBQXlDQyxLQUF6QyxDQUErQ0MsT0FBL0MsR0FBeUQsTUFBekQ7QUFDUDtBQUNPSCxTQUFTQyxjQUFULENBQXdCLG1CQUF4QixFQUE2Q0MsS0FBN0MsQ0FBbURDLE9BQW5ELEdBQTZELE1BQTdEO0FBQ0FILFNBQVNDLGNBQVQsQ0FBd0Isc0JBQXhCLEVBQWdEQyxLQUFoRCxDQUFzREMsT0FBdEQsR0FBZ0UsTUFBaEU7QUFDUDtBQUNPSCxTQUFTQyxjQUFULENBQXdCLGtCQUF4QixFQUE0Q0MsS0FBNUMsQ0FBa0RDLE9BQWxELEdBQTRELE1BQTVEOztBQUVBLElBQUlDLHFCQUFxQixVQUFTQyxFQUFULEVBQWFDLFdBQWIsRUFBMEJDLEtBQTFCLEVBQWlDQyxLQUFqQyxFQUF3Q0MsWUFBeEMsRUFBc0RDLGNBQXRELEVBQXNFQyxhQUF0RSxFQUFxRkMsS0FBckYsRUFBNEZDLFNBQTVGLEVBQXNHO0FBQzNILFFBQUlDLFdBQVdDLE9BQU8scUJBQVAs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QUErQixHQUEvQixFQUFvQyxHQUFwQyxDQUFuQztBQUNILENBUkQiLCJmaWxlIjoiMjkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiAtLS0tIHZhcmlhYmxlcyBnbG9iYWxlcyAtLS0tICovXG4gICAgICAgICAgICB2YXIgdG90YWwgPSAwLjA7XG4gICAgICAgICAgICB2YXIgdG90YWxfY29uX2Rlc2N1ZW50byA9IDAuMDtcbiAgICAgICAgICAgIHZhciByZXN1bHRhZG8gPSAwLjA7XG4gICAgICAgICAgICB2YXIgY29udGFkb3JfdGFibGEgPSAwO1xuICAgICAgICAgICAgdmFyIGNyZWRpdG9fcG9yY2VudGFqZSA9IDA7XG4gICAgICAgICAgICB2YXIgYXJ0aWN1bG9zX3ZlbmRpZG9zID0gW107XG4gICAgICAgICAgICB2YXIgZm9ybWFfcGFnbyA9ICcnO1xuICAgICAvKiAtLS0gaGFjZXIgaW52aXNpYmxlIGxvcyBjYW1wb3MgcXVlIHNvbG8gc29uIHBhcmEgZWZlY3Rpdm8gLS0tLSAqL1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lkX2Rpdl9wYWdvJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpZF9kaXZfdnVlbHRvJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgLyogLS0tIGhhY2VyIGludmlzaWJsZSBsb3MgY2FtcG9zIHF1ZSBzb2xvIHNvbiBwYXJhIGNyw6lkaXRvIC0tLS0gKi9cbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpZF9kaXZfcG9yY2VudGFqZScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaWRfZGl2X2NyZWRpdG9fdG90YWwnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAvKiAtLS0gaGFjZXIgaW52aXNpYmxlIGxvcyBjYW1wb3MgcXVlIHNvbG8gc29uIHBhcmEgZGVzY3VlbnRvIC0tLS0gKi9cbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpZF9kaXZfZGVzY3VlbnRvJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsgIFxuXG4gICAgICAgICAgICB2YXIgc2VsZWNjaW9uX2FydGljdWxvID0gZnVuY3Rpb24oaWQsIGRlc2NyaXBjaW9uLCBtYXJjYSwgcnVicm8sIHByZWNpb192ZW50YSwgcHJlY2lvX2NyZWRpdG8sIHByZWNpb19jb21wcmEsIHN0b2NrLCBwcm92ZWVkb3Ipe1xuICAgICAgICAgICAgICAgIHZhciBjYW50aWRhZCA9IHByb21wdChcIkluZ3Jlc2UgbGEgY2FudGlkYWRcIiwgXCJcIik7XG4gICAgICAgICAgICAgICAgdmFyIHByZWNpb19lbnZpYXIgPSAnJztcbiAgICAgICAgICAgICAgICBpZiAoY2FudGlkYWQgIT0gbnVsbCAmJiBjYW50aWRhZCAhPSAnJykge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGZvcm1hX3BhZ28pe1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZWZlY3Rpdm8nOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZWNpb19lbnZpYXIgPSBwcmVjaW9fdmVudGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdkZXNjdWVudG8nOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZWNpb19lbnZpYXIgPSBwcmVjaW9fdmVudGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7ICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnY3JlZGl0byc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlY2lvX2VudmlhciA9IHByZWNpb192ZW50YTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2RlYml0byc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlY2lvX2VudmlhciA9IHByZWNpb192ZW50YTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgY2FsY3VsYXJfdG90YWwoY2FudGlkYWQsIGlkLCBwcmVjaW9fZW52aWFyKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGFkb3JfdGFibGEgKz0xO1xuICAgICAgICAgICAgICAgICAgICAkKCcjaWRfdGFibGFfYXJ0aWN1bG9zIHRyOmxhc3QnKS5hZnRlcignPHRyIGlkPVwidHJfJyArIGNvbnRhZG9yX3RhYmxhLnRvU3RyaW5nKCkgKyAnXCI+PHRkPicgKyBjYW50aWRhZCArICc8L3RkPicgKyAnPHRkPicgKyBkZXNjcmlwY2lvbiArICc8L3RkPicgKyAnPHRkPidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICArIG1hcmNhICsgJzwvdGQ+JyArICc8dGQ+JyArIHJ1YnJvICsgJzwvdGQ+JyArICc8dGQ+ICQnICsgcHJlY2lvX2VudmlhclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgJzwvdGQ+JyArICc8dGQ+JyArIHN0b2NrICsgJzwvdGQ+JyArICc8dGQ+PGEgb25jbGljaz1cImVsaW1pbmFyX2FydGljdWxvKCcgKyBjb250YWRvcl90YWJsYS50b1N0cmluZygpICsgJywnICsgY2FudGlkYWQgKyAnLCcgKyBwcmVjaW9fZW52aWFyICsnKVwiICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdjbGFzcz1cImJ0biBidG4tZGFuZ2VyIGJ0bi14c1wiPjxpIGNsYXNzPVwiZmEgZmEtdHJhc2hcIj48L2k+IDwvYT48L3RkPjwvdHI+Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIGd1YXJkYXJfY29tcHJhID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICB0b3RhbF9jb25fZGVzY3VlbnRvID0gcmVzdWx0YWRvO1xuICAgICAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgICAgIHVybDogJy92ZW50YXMvYWpheC92ZW50YXMvYWx0YS8nLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAncG9zdCcsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlbnRhczogSlNPTi5zdHJpbmdpZnkoYXJ0aWN1bG9zX3ZlbmRpZG9zKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZlY2hhOiAkKCcjaWRfZmVjaGEnKS52YWwsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjdWVudG86ICQoJyNpZF9tb250b19kZXNjdWVudG8nKS52YWwoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsX2Nvbl9kZXNjdWVudG86IHRvdGFsX2Nvbl9kZXNjdWVudG8sXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVjaW9fdmVudGFfdG90YWw6IHRvdGFsLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtYV9wYWdvOiBmb3JtYV9wYWdvLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3JlZGl0b19wb3JjZW50YWplOiBjcmVkaXRvX3BvcmNlbnRhamUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjc3JmbWlkZGxld2FyZXRva2VuOiAkKFwiaW5wdXRbbmFtZT1jc3JmbWlkZGxld2FyZXRva2VuXVwiKS52YWwoKVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnN1Y2Nlc3Mpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBQTm90aWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdTaXN0ZW1hJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogZGF0YS5zdWNjZXNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjaWRfdG90YWwnKS5odG1sKCckIDAuMCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNpZF90YWJsYV9hcnRpY3Vsb3MnKS5lbXB0eSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy92ZW50YXMvdGlja2V0LycgKyBkYXRhLmlkX3ZlbnRhXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAvKiAtLS0tIGZ1bmNpb24gcGFyYSBlbCBsZWN0b3IgZGUgY29kaWdvIGRlIGJhcnJhcyAtLS0gKi9cbiAgICAgICAgICAgICQoJyNpZF9jb2RpZ29fYXJ0aWN1bG9fYnVzY2FyJykua2V5cHJlc3MoZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICAgICAgaWYgKGUud2hpY2ggPT0gMTMpe1xuICAgICAgICAgICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAnL3ZlbnRhcy9hamF4L2NvZGlnby9hcnRpY3Vsby8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3Bvc3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdjb2RpZ29fYXJ0aWN1bG8nOiAkKCcjaWRfY29kaWdvX2FydGljdWxvX2J1c2NhcicpLnZhbCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNzcmZtaWRkbGV3YXJldG9rZW46ICQoXCJpbnB1dFtuYW1lPWNzcmZtaWRkbGV3YXJldG9rZW5dXCIpLnZhbCgpXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByZWNpb19lbnZpYXIgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGZvcm1hX3BhZ28pe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdlZmVjdGl2byc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVjaW9fZW52aWFyID0gZGF0YS5wcmVjaW9fdmVudGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZGVzY3VlbnRvJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZWNpb19lbnZpYXIgPSBkYXRhLnByZWNpb192ZW50YTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOyAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnY3JlZGl0byc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVjaW9fZW52aWFyID0gZGF0YS5wcmVjaW9fdmVudGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZGViaXRvJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZWNpb19lbnZpYXIgPSBkYXRhLnByZWNpb192ZW50YTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFkb3JfdGFibGEgKz0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGN1bGFyX3RvdGFsKCcxJywgZGF0YS5pZCwgcHJlY2lvX2Vudmlhcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI2lkX3RhYmxhX2FydGljdWxvcyB0cjpsYXN0JykuYWZ0ZXIoJzx0ciBpZD1cInRyXycgKyBjb250YWRvcl90YWJsYS50b1N0cmluZygpICsgJ1wiPjx0ZD4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuY2FudGlkYWQgKyAnPC90ZD4nICsgJzx0ZD4nICsgZGF0YS5kZXNjcmlwY2lvbiArICc8L3RkPicgKyAnPHRkPidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICArIGRhdGEubWFyY2EgKyAnPC90ZD4nICsgJzx0ZD4nICsgZGF0YS5ydWJybyArICc8L3RkPicgKyAnPHRkPiAkJyArIHByZWNpb19lbnZpYXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICArICc8L3RkPicgKyAnPHRkPicgKyBkYXRhLnN0b2NrICsgJzx0ZD48YSBvbmNsaWNrPVwiYWdyZWdhcl9jYW50aWRhZCgnICsgY29udGFkb3JfdGFibGEudG9TdHJpbmcoKSArICcsJyArIGRhdGEuaWQgKyAnLCcgKyBwcmVjaW9fZW52aWFyICsgJylcIiAnICsgJ2NsYXNzPVwiYnRuIGJ0bi1pbmZvIGJ0bi14c1wiPjxpIGNsYXNzPVwiZmEgZmEtcGx1c1wiPjwvaT4gPC9hPjxhIG9uY2xpY2s9XCJlbGltaW5hcl9hcnRpY3VsbygnICsgY29udGFkb3JfdGFibGEudG9TdHJpbmcoKSArICcsJyArIGRhdGEuY2FudGlkYWQgKyAnLCcgKyBwcmVjaW9fZW52aWFyICsgJylcIiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2NsYXNzPVwiYnRuIGJ0bi1kYW5nZXIgYnRuLXhzXCI+PGkgY2xhc3M9XCJmYSBmYS10cmFzaFwiPjwvaT4gPC9hPjwvdGQ+PC90cj4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICQoJyNpZF9jb2RpZ29fYXJ0aWN1bG9fYnVzY2FyJykudmFsKCcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAvKiAtLS0tIGZ1bmNpb24gcGFyYSBlbCBsZWN0b3IgZGUgY29kaWdvIGRlIGJhcnJhcyAtLS0gKi9cblxuICAgIC8qIC0tLS0tLS0tLS0gRXN0YSBmdW5jaW9uIGNhbGN1bGEgZWwgdG90YWwgeSBsYSBjb2xvY2FcbiAgICAqKiogLS0tLS0tLS0tLSBlbiBsYSBwYXJ0ZSBpbmZlcmlvciBkZWwgZm9ybXVsYXJpbyBkZSB2ZW50YXMgLS0tLSAqL1xuICAgICAgICAgICAgdmFyIGNhbGN1bGFyX3RvdGFsID0gZnVuY3Rpb24oY2FudGlkYWQsIGlkLCBwcmVjaW9fdmVudGEpe1xuICAgIC8qIC0tLS0gQXJtYXIgdW4gYXJyYXkgY29uIGxvcyBhcnRpY3Vsb3MgdmVuZGlkb3MgLS0tLS0gKi9cbiAgICAgICAgICAgICAgICAgICAgdmFyIG9iaiA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBvYmpbJ2lkJ10gPSBpZDtcbiAgICAgICAgICAgICAgICAgICAgb2JqWydjYW50aWRhZCddID0gY2FudGlkYWQ7XG4gICAgICAgICAgICAgICAgICAgIGFydGljdWxvc192ZW5kaWRvcy5wdXNoKG9iaik7XG4gICAgLyogLS0tLSBBcm1hciB1biBhcnJheSBjb24gbG9zIGFydGljdWxvcyB2ZW5kaWRvcyAtLS0tLSAqL1xuXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsICs9IChwYXJzZUZsb2F0KGNhbnRpZGFkKSAqIHBhcnNlRmxvYXQocHJlY2lvX3ZlbnRhLnRvU3RyaW5nKCkucmVwbGFjZSgnLCcsICcuJykpKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlcHJlc2VudGFyID0gdG90YWwudG9GaXhlZCgyKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnI2lkX3RvdGFsJykuaHRtbCgnJCAnICsgcmVwcmVzZW50YXIudG9TdHJpbmcoKS5yZXBsYWNlKCcuJywgJywnKSk7XG4gICAgICAgICAgICB9O1xuICAgIC8qIC0tLS0tLS0tLS0gRXN0YSBmdW5jaW9uIGNhbGN1bGEgZWwgdG90YWwgeSBsYSBjb2xvY2FcbiAgICAtLS0tLS0tLS0tIGVuIGxhIHBhcnRlIGluZmVyaW9yIGRlbCBmb3JtdWxhcmlvIGRlIHZlbnRhcyAtLS0tICovXG5cbiAgICAvKiAtLS0tIGRldGVjdGFyIHF1ZSB0aXBvIGRlIHBhZ28gZXMgLS0tLSAqL1xuICAgICAgICAgICAgdmFyIGNhbGN1bGFyX3RpcG9fcGFnbyA9IGZ1bmN0aW9uKGZvcm1hX3BhZ29fcGFyYW1ldHJvKXtcbiAgICAgICAgICAgICAgICAkKCcjaWRfZmVjaGEnKS5wcm9wKCBcImRpc2FibGVkXCIsIGZhbHNlICk7XG4gICAgICAgICAgICAgICAgJCgnI2lkX2NvZGlnb19hcnRpY3Vsb19idXNjYXInKS5wcm9wKCBcImRpc2FibGVkXCIsIGZhbHNlICk7XG4gICAgICAgICAgICAgICAgJCgnI2lkX2J1dHRvbl9idXNjYXInKS5wcm9wKCBcImRpc2FibGVkXCIsIGZhbHNlICk7XG4gICAgICAgICAgICAgICAgJCgnI2lkX2J1dHRvbl9ndWFyZGFyX2NvbXByYScpLnByb3AoIFwiZGlzYWJsZWRcIiwgZmFsc2UgKTtcbiAgICAgICAgICAgICAgICAvLyBQb25nbyBkaXNhYmxlZCBsYSBzZWxlY2Npb24gZGUgbGEgZm9ybWEgZGUgcGFnb1xuICAgICAgICAgICAgICAgIGZvcm1hX3BhZ28gPSBmb3JtYV9wYWdvX3BhcmFtZXRybztcbiAgICAgICAgICAgICAgICBpZiAoZm9ybWFfcGFnbyA9PSAnZWZlY3Rpdm8nKXtcbiAgICAgICAgICAgICAgICAgICAgLy8gc2kgZXMgZWZlY3Rpdm8gaGFiaWxpdG8gc3VzIHJlc3BlY3Rpdm9zIHBhZ29zXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpZF9kaXZfcGFnbycpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaWRfZGl2X3Z1ZWx0bycpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKGZvcm1hX3BhZ28gPT0gJ2Rlc2N1ZW50bycpe1xuICAgICAgICAgICAgICAgICAgICAvLyBzaSBlcyBkZXNjdWVudG8gaGFiaWxpdG8gc3VzIHJlc3BlY3Rpdm9zIHBhZ29zIHkgZGVzY3VlbnRvXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpZF9kaXZfcGFnbycpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaWRfZGl2X3Z1ZWx0bycpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaWRfZGl2X2Rlc2N1ZW50bycpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKGZvcm1hX3BhZ28gPT0gJ2NyZWRpdG8nKXtcbiAgICAgICAgICAgICAgICAgICAgLy8gc2kgZXMgY3JlZGl0byBoYWJpbGl0byBzdXMgcmVzcGVjdGl2b3MgYXVtZW50b3NcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lkX2Rpdl9wb3JjZW50YWplJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpZF9kaXZfY3JlZGl0b190b3RhbCcpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKGZvcm1hX3BhZ28gIT0gJ2VmZWN0aXZvJyl7XG4gICAgICAgICAgICAgICAgICAgICQoJyNpZF9lZmVjdGl2bycpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmIChmb3JtYV9wYWdvICE9ICdjcmVkaXRvJyl7XG4gICAgICAgICAgICAgICAgICAgICQoJyNpZF9jcmVkaXRvJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKGZvcm1hX3BhZ28gIT0gJ2RlYml0bycpe1xuICAgICAgICAgICAgICAgICAgICAkKCcjaWRfZGViaXRvJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKGZvcm1hX3BhZ28gIT0gJ2Rlc2N1ZW50bycpe1xuICAgICAgICAgICAgICAgICAgICAkKCcjaWRfZGVzY3VlbnRvJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9O1xuICAgIC8qIC0tLS0gZGV0ZWN0YXIgcXVlIHRpcG8gZGUgcGFnbyBlcyAtLS0tICovXG5cbiAgICAvKiAtLS0tIEVsaW1pbmFyIHVuIGFydGljdWxvIGRlc2RlIGxhIHRhYmxhIC0tLS0gKi9cbiAgICAgICAgICAgIHZhciBlbGltaW5hcl9hcnRpY3VsbyA9IGZ1bmN0aW9uKGlkLCBjYW50aWRhZCwgcHJlY2lvX2Vudmlhcil7XG5cbiAgICAgICAgICAgICAgICBhcnRpY3Vsb3NfdmVuZGlkb3Muc3BsaWNlKGlkLCAxKTtcbiAgICAgICAgICAgICAgICAkKCcjdHJfJyArIGlkKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB0b3RhbCAtPSAocGFyc2VGbG9hdChjYW50aWRhZCkgKiBwYXJzZUZsb2F0KHByZWNpb19lbnZpYXIudG9TdHJpbmcoKS5yZXBsYWNlKCcsJywgJy4nKSkpO1xuICAgICAgICAgICAgICAgIHZhciByZXByZXNlbnRhciA9IHRvdGFsLnRvRml4ZWQoMik7XG4gICAgICAgICAgICAgICAgJCgnI2lkX3RvdGFsJykuaHRtbCgnJCAnICsgcmVwcmVzZW50YXIudG9TdHJpbmcoKS5yZXBsYWNlKCcuJywgJywnKSk7XG5cbiAgICAgICAgICAgIH07XG4gICAgLyogLS0tLSBFbGltaW5hciB1biBhcnRpY3VsbyBkZXNkZSBsYSB0YWJsYSAtLS0tICovXG5cbiAgICAvKiAtLS0tIEFncmVnYXIgY2FudGlkYWQgYSB1biBhcnRpY3VsbyBkZXNkZSBsYSB0YWJsYSAtLS0tICovXG4gICAgICAgICAgICB2YXIgYWdyZWdhcl9jYW50aWRhZCA9IGZ1bmN0aW9uKGNvbnRhZG9yLCBpZCwgcHJlY2lvKXtcbiAgICAgICAgICAgICAgICB2YXIgY2FudGlkYWQgPSBwcm9tcHQoXCJJbmdyZXNlIGxhIGNhbnRpZGFkXCIsIFwiXCIpO1xuICAgICAgICAgICAgICAgIGlmIChjYW50aWRhZCAhPSBudWxsICYmIGNhbnRpZGFkICE9ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjYW50aWRhZF90YWJsYSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaWRfdGFibGFfYXJ0aWN1bG9zXCIpLnJvd3NbY29udGFkb3IgKyAxXS5jZWxscy5pdGVtKDApLmlubmVySFRNTDtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpZF90YWJsYV9hcnRpY3Vsb3NcIikucm93c1tjb250YWRvciArIDFdLmNlbGxzLml0ZW0oMCkuaW5uZXJIVE1MID0gcGFyc2VJbnQoY2FudGlkYWRfdGFibGEpICsgcGFyc2VJbnQoY2FudGlkYWQpO1xuICAgICAgICAgICAgICAgICAgICBjYWxjdWxhcl90b3RhbChjYW50aWRhZCwgaWQsIHByZWNpbyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAvKiAtLS0tIEFncmVnYXIgY2FudGlkYWQgYSB1biBhcnRpY3VsbyBkZXNkZSBsYSB0YWJsYSAtLS0tICovXG5cbiAgICAvKiAtLS0tIEV2ZW50byB5IG1ldG9kb3MgcGFyYSB2dWVsdG9zIHNpIGVzIGVmZWN0aXZvIC0tLS0gKi9cbiAgICAgICAgICAgICQoJyNpZF9wYWdvJykuY2xpY2soIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgaWYgKCQoJyNpZF9wYWdvJykudmFsKCkgPT0gJzAnKXtcbiAgICAgICAgICAgICAgICAgICAgJCgnI2lkX3BhZ28nKS52YWwoJyAnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICQoJyNpZF9tb250b19kZXNjdWVudG8nKS5jbGljayggZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBpZiAoJCgnI2lkX21vbnRvX2Rlc2N1ZW50bycpLnZhbCgpID09ICcwJyl7XG4gICAgICAgICAgICAgICAgICAgICQoJyNpZF9tb250b19kZXNjdWVudG8nKS52YWwoJyAnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAvKiAtLS0gcG9yIGNhZGEgZXZlbnRvIGNhbGN1bGFyIGVsIHZ1ZWx0byAtLS0gKi9cbiAgICAgICAgICAgICQoJyNpZF9wYWdvJykuZm9jdXNvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYgKCQoJyNpZF9wYWdvJykudmFsKCkgPT0gJycpe1xuICAgICAgICAgICAgICAgICAgICAkKCcjaWRfcGFnbycpLnZhbCgnMCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYWxjdWxhcl92dWVsdG8oKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICQoJyNpZF9tb250b19kZXNjdWVudG8nKS5mb2N1c291dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZiAoJCgnI2lkX21vbnRvX2Rlc2N1ZW50bycpLnZhbCgpID09ICcnKXtcbiAgICAgICAgICAgICAgICAgICAgJCgnI2lkX21vbnRvX2Rlc2N1ZW50bycpLnZhbCgnMCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgJCgnI2lkX3BhZ28nKS5rZXlwcmVzcyhmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PSAxMykge1xuICAgICAgICAgICAgICAgICAgICBjYWxjdWxhcl92dWVsdG8oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBjYWxjdWxhcl92dWVsdG8gPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIC8qIC0tLS0tIGNhbGN1bGEgc2kgZXMgZWZlY3Rpdm8gZWwgdnVlbHRvIC0tLS0tICovXG5cbiAgICAgICAgICAgICAgICB2YXIgcGFnbyA9ICQoJyNpZF9wYWdvJykudmFsKCk7XG4gICAgICAgICAgICAgICAgdmFyIGRlc2N1ZW50byA9ICQoJyNpZF9tb250b19kZXNjdWVudG8nKS52YWwoKTtcbiAgICAgICAgICAgICAgICBpZiAoZGVzY3VlbnRvICE9ICcwJykge1xuICAgICAgICAgICAgICAgICAgICBkZXNjdWVudG9fdG90YWwgPSAocGFyc2VGbG9hdCh0b3RhbCkgKiBwYXJzZUZsb2F0KGRlc2N1ZW50bykpIC8gMTAwO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRhZG8gPSAwLjA7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdGFkbyA9IHBhcnNlRmxvYXQodG90YWwpIC0gcGFyc2VGbG9hdChkZXNjdWVudG9fdG90YWwpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdnVlbHRvID0gIHBhcnNlRmxvYXQocGFnbykgLSBwYXJzZUZsb2F0KHJlc3VsdGFkbyk7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2dWVsdG8gPSBwYXJzZUZsb2F0KHBhZ28pIC0gcGFyc2VGbG9hdCh0b3RhbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciByZXByZXNlbnRhciA9IHZ1ZWx0by50b0ZpeGVkKDIpO1xuICAgICAgICAgICAgICAgICQoJyNpZF92dWVsdG8nKS5odG1sKCckICcgKyByZXByZXNlbnRhci50b1N0cmluZygpLnJlcGxhY2UoJy4nLCAnLCcpKTtcbiAgICAgICAgICAgIH07XG4gICAgLyogLS0tLSBFdmVudG8geSBtZXRvZG9zIHBhcmEgdnVlbHRvcyBzaSBlcyBlZmVjdGl2byAtLS0tICovXG4gICBcbiAgICAvKiAtLS0tIEV2ZW50byB5IG1ldG9kb3MgcGFyYSBhdW1lbnRvIHNpIGVzIGNyZWRpdG8gLS0tLSAqL1xuICAgICAgICAgICAgJCgnI2lkX3BvcmNlbnRhamUnKS5jbGljayggZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBpZiAoJCgnI2lkX3BvcmNlbnRhamUnKS52YWwoKSA9PSAnMCcpe1xuICAgICAgICAgICAgICAgICAgICAkKCcjaWRfcG9yY2VudGFqZScpLnZhbCgnICcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLyogLS0tIHBvciBjYWRhIGV2ZW50byBjYWxjdWxhciBlbCB2dWVsdG8gLS0tICovXG4gICAgICAgICAgICAkKCcjaWRfcG9yY2VudGFqZScpLmZvY3Vzb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGNhbGN1bGFyX2F1bWVudG8oKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgJCgnI2lkX3BvcmNlbnRhamUnKS5rZXlwcmVzcyhmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PSAxMykge1xuICAgICAgICAgICAgICAgICAgICBjYWxjdWxhcl9hdW1lbnRvKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgY2FsY3VsYXJfYXVtZW50byA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgLyogLS0tLS0gY2FsY3VsYSBzaSBlcyBjcmVkaXRvIGVsIGF1bWVudG8gLS0tLS0gKi9cbiAgICAgICAgICAgICAgICB2YXIgcG9yY2VudGFqZSA9ICQoJyNpZF9wb3JjZW50YWplJykudmFsKCk7XG4gICAgICAgICAgICAgICAgY3JlZGl0b19wb3JjZW50YWplID0gcG9yY2VudGFqZTtcbiAgICAgICAgICAgICAgICB2YXIgYXVtZW50byA9IHBhcnNlRmxvYXQodG90YWwpICogcGFyc2VJbnQocG9yY2VudGFqZSkvMTAwO1xuICAgICAgICAgICAgICAgIHZhciB0b3RhbF9hdW1lbnRhZG8gPSBwYXJzZUZsb2F0KHRvdGFsKSArIHBhcnNlRmxvYXQoYXVtZW50byk7XG4gICAgICAgICAgICAgICAgdmFyIHJlcHJlc2VudGFyID0gdG90YWxfYXVtZW50YWRvLnRvRml4ZWQoMik7XG4gICAgICAgICAgICAgICAgJCgnI2lkX2NyZWRpdG9fdG90YWwnKS5odG1sKCckICcgKyByZXByZXNlbnRhci50b1N0cmluZygpLnJlcGxhY2UoJy4nLCAnLCcpKTtcbiAgICAgICAgICAgIH07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zdGF0aWMvYXBwcy92ZW50YXMvanMvb3BlcmFjaW9uZXMuanMiXSwic291cmNlUm9vdCI6IiJ9");

/***/ })

})